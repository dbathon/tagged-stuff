<div class="sidebar" ng-controller="TagsCtrl">
  <div class="content">
    <p>Tags</p>
    <ul>
      <li ng-repeat="tag in tags">
        <a href="" ng-click="searchForTag(tag)">{{tag.id}}</a>
      </li>
    </ul>
  </div>
</div>

<div class="entries-container" ng-controller="EntriesCtrl">
  <h2 class="entries-title">{{entriesTitle()}}</h2>
  <div ng-repeat="entry in entries">
    <div class="entry-header-{{isExpanded(entry)}}" ng-click="select(entry)">
      <span class="entry-header-text">{{entry.title}}</span>
      -
      <span class="entry-header-tags">{{joinedTags(entry)}}</span>
    </div>
    <div content-if="isExpanded(entry)">
      <div class="entry-container" ng-controller="EntryCtrl">
        <div class="entry-title"><a ng-href="{{entry.url}}" target="_blank">{{entry.title}}</a></div>
        <div class="entry-url"><a ng-href="{{entry.url}}" target="_blank">{{entry.url}}</a></div>
        <div class="entry-body-container">
          <div ng-repeat="line in bodyLines(entry)">{{line}}</div>
        </div>
        <ul class="entry-tag-list">
          <li ng-repeat="tag in sortedTags(entry)">{{tag}}</li>
        </ul>
        <hr />
        <div ng-switch="editing">
          <input ng-switch-when="false" type="button" ng-click="startEdit(entry)" value="Edit" />
          <form ng-switch-when="true" ng-submit="saveEdit(entry)">
            <input type="submit" value="Save" />
            <input type="button" ng-click="cancelEdit(entry)" value="Cancel" />
            <label>Title<br /><input type="text" size="80" ng-model="edited.title" /></label>
            <label>URL<br /><input type="text" size="80" ng-model="edited.url" /></label>
            <label>Tags<br /><input type="text" size="80" ng-model="data.tagsText" /></label>
            <label>Body<br /><textarea cols="80" rows="10" ng-model="edited.body"></textarea></label>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
